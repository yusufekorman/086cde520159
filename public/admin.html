<!DOCTYPE html><html lang=en><meta charset=UTF-8><meta content="IE=edge"http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1"name=viewport><title>Admin Panel</title><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js crossorigin=anonymous integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="referrerpolicy=no-referrer></script><link href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css rel=stylesheet><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script><link href=https://cdnjs.cloudflare.com/ajax/libs/turkuaz/1.0.0/turkuaz.min.css rel=stylesheet><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js></script><style>.input{width:100%}.modal.invalid{top:75%!important}#snackbar{visibility:hidden;min-width:250px;margin-left:-125px;background-color:#333;color:#fff;text-align:center;border-radius:2px;padding:16px;position:fixed;z-index:1;left:50%;bottom:30px}#snackbar.show{visibility:visible;-webkit-animation:fadein .5s,fadeout .5s 2.5s;animation:fadein .5s,fadeout .5s 2.5s}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}</style><a class="button ml-3 mt-3 is-warning"data-target=#addproduct data-toggle=modal>Add Product</a> <a class="button is-danger ml-3 mt-3"data-target=#del_product data-toggle=modal>Delete Product</a><ul id=products></ul><dialog class="modal is-success"class="modal fade"id=addproduct style=z-index:99999999><div class=modal_content><div class=modal_icon><svg role=img viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"fill=currentColor></path></svg></div><div style=width:100%><h3 class=modal_title>Add Product</h3><p><div class=form-field><input id=product_name class="input mt-3"placeholder="Product Name"> <small class=input-text id=product_name_info></small></div><div class=form-field><input id=product_key class=input placeholder="Product Key "type=number> <small class=input-text id=product_key_info></small></div><div class=form-field><input id=product_ebay_href class=input placeholder="Product E-Bay Href"> <small class=input-text id=product_ebay_href_info></small></div><div class=form-field><input id=adminPassword class=input placeholder="Admin Password"type=password> <small class=input-text id=adminPassword_info></small></div><input id=product_image type=file></div></div><div class=modal_footer><a class="button is-outline mr-1"data-dismiss=modal>Cancel</a> <button class="button is-success"onclick=submit()>Add Product</button></div></dialog><dialog class="modal is-danger"class="modal fade"id=del_product style=z-index:99999999><div class=modal_content><div class=modal_icon><svg role=img viewBox="0 0 352 512"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"fill=currentColor></path></svg></div><div style=width:100%><h3 class=modal_title>Delete Product</h3><p><div class=form-field><input id=del_product_key class=input placeholder="Product Key"type=number></div><div class=form-field><input id=del_product_adminPassword class=input placeholder="Admin Password"type=password></div></div></div><div class=modal_footer><a class="button is-outline mr-1"data-dismiss=modal>Cancel</a> <button class="button is-danger"onclick=del()>Delete Product</button></div></dialog><div style=z-index:999999 id=snackbar></div><script>function getBase64(e,a){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){a(o.result)},o.onerror=function(e){console.log("Error: ",e)}}function submit(){const e=document.querySelector("#addproduct"),a=document.querySelector("#product_name"),o=document.querySelector("#product_name_info"),t=document.querySelector("#product_key"),r=document.querySelector("#product_key_info"),n=document.querySelector("#product_ebay_href"),c=(document.querySelector("#product_ebay_href_info"),document.querySelector("#adminPassword")),d=document.querySelector("#adminPassword_info");let s=!1;if(""===a.value.trim()&&(a.classList.add("is-invalid"),o.innerHTML="Boş mu?",e.classList.add("invalid"),s=!0),""===t.value.trim()&&(t.classList.add("is-invalid"),r.innerHTML="Boş mu?",e.classList.add("invalid"),s=!0),""===n.value.trim()&&(n.classList.add("is-invalid"),product_ebay_href_info.innerHTML="Boş mu?",e.classList.add("invalid"),s=!0),""===c.value.trim()&&(c.classList.add("is-invalid"),d.innerHTML="Boş mu?",e.classList.add("invalid"),s=!0),!s)try{getBase64(document.querySelector("#product_image").files[0],(e=>{$.ajax({url:"http://localhost/api/newItem",method:"POST",cors:"no-cors",dataType:"json",data:{adminPassword:c.value,name:a.value,image:e,key:t.value,ebay_href:n.value}}).done((function(e){2===e.statusCode?snackbar("Product Added"):snackbar("Error: "+e.message)})).fail((e=>{snackbar("Error: "+e)}))}))}catch(e){snackbar("Error: "+e)}}function del(){const e=document.querySelector("#del_product_key"),a=document.querySelector("#del_product_adminPassword");$.ajax({url:"http://localhost/api/delItem",method:"POST",cors:"no-cors",dataType:"json",data:{key:e.value,adminPassword:a.value}}).done((function(e){window.location.reload()}))}function snackbar(e){var a=document.getElementById("snackbar");a.innerText=e,a.className="show",setTimeout((function(){a.className=a.className.replace("show","")}),3e3)}$.ajax({url:"http://localhost/api/products",method:"GET",cors:"no-cors",dataType:"json"}).done((function(e){e.products.forEach((e=>{const a=$(`<li id="${e.key}" class="d-inline-block"><a href="./search?q=${e.key}" class="box mt-3 ml-3 col" style="max-width:max-content;max-height:max-content;"><img src="${e.product_image}" alt="${e.product_name}" class="image" width="150" height="150" /></a></li>`);$("#products").append(a)}))}));</script>
